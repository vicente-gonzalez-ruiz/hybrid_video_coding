<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" 
"http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd" > 
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title>Video compression fundamentals</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<meta name="originator" content="TeX4ht (https://tug.org/tex4ht/)" /> 
<!-- xhtml,mathml,html --> 
<meta name="src" content="index.tex" /> 
<link rel="stylesheet" type="text/css" href="index.css" /> 
</head><body 
>
   <div class="maketitle">
                                                                  

                                                                  
                                                                  

                                                                  

<h2 class="titleHead">Video compression fundamentals</h2>
 <div class="author" ><span 
class="ecrm-1200">Vicente Gonz</span><span 
class="ecrm-1200">&#x00E1;</span><span 
class="ecrm-1200">lez Ruiz</span></div><br />
<div class="date" ><span 
class="ecrm-1200">January 19, 2021</span></div>
   </div>
   <h3 class="likesectionHead"><a 
 id="x1-1000"></a>Contents</h3>
   <div class="tableofcontents">
   <span class="sectionToc" >1 <a 
href="#x1-20001" id="QQ2-1-2">Sources of redundancy</a></span>
<br />   <span class="sectionToc" >2 <a 
href="#x1-30002" id="QQ2-1-3">Hybrid video coding</a></span>
<br />   <span class="sectionToc" >3 <a 
href="#x1-40003" id="QQ2-1-4">Block-based MC &#x0028;Motion Compensation&#x0029;&#x00A0;&#x005B;1&#x005D;</a></span>
<br />   <span class="sectionToc" >4 <a 
href="#x1-50004" id="QQ2-1-5">Sub-pixel accuracy</a></span>
<br />   <span class="sectionToc" >5 <a 
href="#x1-60005" id="QQ2-1-6">Matching criteria &#x0028;similitude between macroblocks&#x0029;</a></span>
<br />   <span class="sectionToc" >6 <a 
href="#x1-70006" id="QQ2-1-7">Searching strategies</a></span>
<br />   <span class="sectionToc" >7 <a 
href="#x1-80007" id="QQ2-1-8">The GOP &#x0028;Group Of Pictures&#x0029; concept</a></span>
<br />   <span class="sectionToc" >8 <a 
href="#x1-90008" id="QQ2-1-9">MCTF &#x0028;Motion Compensated Temporal Filtering&#x0029;</a></span>
<br />   <span class="sectionToc" >9 <a 
href="#x1-100009" id="QQ2-1-10"><!--l. 16--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x00B1;</mo></math>
1-spiral-search ME &#x0028;Motion Estimation&#x0029;</a></span>
<br />   <span class="sectionToc" >10 <a 
href="#x1-1100010" id="QQ2-1-11">Linear frame interpolation using block-based motion compensation</a></span>
<br />   <span class="sectionToc" >11 <a 
href="#x1-2400011" id="QQ2-1-24">MC/DWT hybrid coding alternatives</a></span>
<br />   <span class="sectionToc" >12 <a 
href="#x1-2500012" id="QQ2-1-25">Deblocking &#xFB01;ltering</a></span>
<br />   <span class="sectionToc" >13 <a 
href="#x1-2600013" id="QQ2-1-26">Bit-rate allocation</a></span>
<br />   <span class="sectionToc" >14 <a 
href="#x1-2700014" id="QQ2-1-27">Video scalability</a></span>
<br />   &#x00A0;<span class="subsectionToc" >14.1 <a 
href="#x1-2800014.1" id="QQ2-1-28">Quality scalability</a></span>
<br />   &#x00A0;<span class="subsectionToc" >14.2 <a 
href="#x1-2900014.2" id="QQ2-1-29">Temporal scalability</a></span>
<br />   &#x00A0;<span class="subsectionToc" >14.3 <a 
href="#x1-3000014.3" id="QQ2-1-30">Spatial scalability</a></span>
<br />   <span class="sectionToc" ><a 
href="#Q1-1-32">References</a></span>
   </div>
                                                                  

                                                                  
<!--l. 6--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">1   </span> <a 
 id="x1-20001"></a><a 
href="https://vicente-gonzalez-ruiz.github.io/redundancy/" >Sources of redundancy</a></h3>
<!--l. 8--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">2   </span> <a 
 id="x1-30002"></a>Hybrid video coding</h3>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
                                                                  

                                                                  
<!--l. 11--><p class="noindent" ><div style="text-align:center;"> <img width=800 src="graphics/hybrid_coding.svg" /> </div>  <a 
 id="x1-3001r1"></a>
<a 
 id="x1-3002"></a>
<br />                                                                  </p><div class="caption" 
><span class="id">
Figure&#x00A0;1: </span><span  
class="content">Hybrid video coding.
</span></div><!--tex4ht:label?: x1-3001r2 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
<!--l. 16--><p class="indent" >   See the Fig.&#x00A0;<a 
href="#x1-3001r1">1<!--tex4ht:ref: fig:hybrid_coding --></a>.
</p>
     <ul class="itemize1">
     <li class="itemize">Used in all the video compression standards.
     </li>
     <li class="itemize">Intracoded images are transformed &#x0028;<!--l. 23--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>T</mi></math>&#x0029;
     and quantized &#x0028;<!--l. 23--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>Q</mi></math>&#x0029;.
     </li>
     <li class="itemize">Intercoded images are also motion compensated &#x0028;<!--l. 25--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>P</mi></math>&#x0029;.
     </li>
     <li class="itemize">The encoder incorporates a decoder to avoid the drift error.</li></ul>
   <h3 class="sectionHead"><span class="titlemark">3   </span> <a 
 id="x1-40003"></a>Block-based MC &#x0028;Motion Compensation&#x0029;&#x00A0;<span class="cite">&#x005B;<a 
href="#Xrao1996techniques">1</a>&#x005D;</span></h3>
     <ul class="itemize1">
     <li class="itemize">Usually, only performed by the encoder &#x0028;compress one. decompress many&#x0029;.
     </li>
     <li class="itemize">MC removes temporal redundancy. A <span 
class="ecti-1000">predicted image </span>can be encoded as
     the di&#xFB00;erence between it and another image called <span 
class="ecti-1000">prediction image </span>which
     is a motion compensated projection of one or more images named <span 
class="ecti-1000">reference</span>
     <span 
class="ecti-1000">images</span>. ME tries to generate <span 
class="ecti-1000">residue images </span>as close as possible to the
     null images.
     </li>
     <li class="itemize">For example, in the MPEG-1 standard, the reference image/s is/are divided
     in blocks of <!--l. 45--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>1</mn><mn>6</mn> <mo 
class="MathClass-bin">&#x00D7;</mo> <mn>1</mn><mn>6</mn></math>
     pixels called <span 
class="ecti-1000">macroblocks</span>.
     </li>
     <li class="itemize">Each reference block is searched in the predicted image and the best match
     is indicated by mean of a <span 
class="ecti-1000">motion vector</span>.
     </li>
     <li class="itemize">Depending on the success of the search and the number of reference images,
     the macroblocks are classi&#xFB01;ed into:
         <ul class="itemize2">
         <li class="itemize"><span 
class="ecbx-1000">I &#x0028;intra&#x0029;</span>: When the compression of residue block generates more
         bits than the original &#x0028;predicted&#x0029; one.
         </li>
         <li class="itemize"><span 
class="ecbx-1000">P &#x0028;predicted&#x0029;</span>: When it is better to compress the residue block and
         there is only one reference macroblock.
         </li>
         <li class="itemize"><span 
class="ecbx-1000">B  &#x0028;bidirectionally  predicted&#x0029;</span>:  The  same,  but  if  we  have  two
         reference macroblocks.
                                                                  

                                                                  
         </li>
         <li class="itemize"><span 
class="ecbx-1000">S &#x0028;skipped&#x0029;</span>: When the energy of the residue block is smaller than
         a given threshold.</li></ul>
     </li>
     <li class="itemize">I-pictures are composed of I macroblocks, only.
     </li>
     <li class="itemize">P-pictures do not have B macrobocks.
     </li>
     <li class="itemize">B-pictures can have any type of macroblocks.</li></ul>
<!--l. 75--><p class="noindent" >See the Fig.&#x00A0;<a 
href="#x1-4001r2">2<!--tex4ht:ref: fig:macroblocks --></a>.
</p>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
                                                                  

                                                                  
<!--l. 78--><p class="noindent" ><div style="text-align:center;"> <img width=600 src="graphics/macroblocks.svg" /> </div>  <a 
 id="x1-4001r2"></a>
<a 
 id="x1-4002"></a>
<br />                                                                  </p><div class="caption" 
><span class="id">
Figure&#x00A0;2: </span><span  
class="content">Types of macroblocks.
</span></div><!--tex4ht:label?: x1-4001r3 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
   <h3 class="sectionHead"><span class="titlemark">4   </span> <a 
 id="x1-50004"></a>Sub-pixel accuracy</h3>
     <ul class="itemize1">
     <li class="itemize">The motion estimation can be carried out using integer pixel accuracy or
     a fractional &#x0028;sub-&#x0029; pixel accuracy.
     </li>
     <li class="itemize">For example, in MPEG-1, the motion estimation can have up to 1/2 pixel
     accuracy. A bi-linear interpolator is used &#x0028;see the Fig.&#x00A0;<a 
href="#x1-5001r3">3<!--tex4ht:ref: fig:interpolation --></a>&#x0029;.</li></ul>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
                                                                  

                                                                  
<!--l. 97--><p class="noindent" ><div style="text-align:center;"> <img width=200 src="graphics/interpolation.svg" /> </div>  <a 
 id="x1-5001r3"></a>
<a 
 id="x1-5002"></a>
<br />                                                                  </p><div class="caption" 
><span class="id">
Figure&#x00A0;3: </span><span  
class="content">Pixel interpolation.
</span></div><!--tex4ht:label?: x1-5001r4 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
   <h3 class="sectionHead"><span class="titlemark">5   </span> <a 
 id="x1-60005"></a>Matching criteria &#x0028;similitude between macroblocks&#x0029;</h3>
     <ul class="itemize1">
     <li class="itemize">Let <!--l. 105--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>a</mi></math>
     and <!--l. 105--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>b</mi></math>
     the macroblocks which we want to compare. Two main distortion metrics
     are commonly used:
         <ul class="itemize2">
         <li class="itemize"><span 
class="ecbx-1000">MSE &#x0028;Mean Square Error&#x0029;</span>:
         <table class="equation"><tr><td> <a 
 id="x1-6001r1"></a>
         <!--l. 112--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                                <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>1</mn><mn>6</mn> <mo 
class="MathClass-bin">&#x00D7;</mo> <mn>1</mn><mn>6</mn></mrow></mfrac><munderover accentunder="false" accent="false"><mrow  
><mo  
>&#x2211;</mo>
  </mrow><mrow 
><mi 
>i</mi><mo 
class="MathClass-rel">=</mo><mn>1</mn></mrow><mrow 
><mn>1</mn><mn>6</mn></mrow></munderover 
><munderover accentunder="false" accent="false"><mrow  
><mo  
> &#x2211;</mo>
</mrow><mrow 
><mi 
>j</mi><mo 
class="MathClass-rel">=</mo><mn>1</mn></mrow><mrow 
><mn>1</mn><mn>6</mn></mrow></munderover 
><msup><mrow 
><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>a</mi></mrow><mrow 
>
<mi 
>i</mi><mi 
>j</mi></mrow></msub 
> <mo 
class="MathClass-bin">&#x2212;</mo> <msub><mrow 
><mi 
>b</mi></mrow><mrow 
><mi 
>i</mi><mi 
>j</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo></mrow><mrow 
><mn>2</mn></mrow></msup 
>
</math></td><td class="eq-no">&#x0028;1&#x0029;</td></tr></table>
         </li>
         <li class="itemize"><span 
class="ecbx-1000">MAE &#x0028;Mean Absolute Error&#x0029;</span>:
         <table class="equation"><tr><td> <a 
 id="x1-6002r2"></a>
         <!--l. 118--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                                 <mfrac><mrow 
><mn>1</mn></mrow> 
<mrow 
><mn>1</mn><mn>6</mn> <mo 
class="MathClass-bin">&#x00D7;</mo> <mn>1</mn><mn>6</mn></mrow></mfrac><munderover accentunder="false" accent="false"><mrow  
><mo  
>&#x2211;</mo>
  </mrow><mrow 
><mi 
>i</mi><mo 
class="MathClass-rel">=</mo><mn>1</mn></mrow><mrow 
><mn>1</mn><mn>6</mn></mrow></munderover 
><munderover accentunder="false" accent="false"><mrow  
><mo  
> &#x2211;</mo>
</mrow><mrow 
><mi 
>j</mi><mo 
class="MathClass-rel">=</mo><mn>1</mn></mrow><mrow 
><mn>1</mn><mn>6</mn></mrow></munderover 
><mo 
class="MathClass-rel">&#x007C;</mo><msub><mrow 
><mi 
>a</mi></mrow><mrow 
>
<mi 
>i</mi><mi 
>j</mi></mrow></msub 
> <mo 
class="MathClass-bin">&#x2212;</mo> <msub><mrow 
><mi 
>b</mi></mrow><mrow 
><mi 
>i</mi><mi 
>j</mi></mrow></msub 
><mo 
class="MathClass-rel">&#x007C;</mo>
</math></td><td class="eq-no">&#x0028;2&#x0029;</td></tr></table>
         </li></ul>
                                                                  

                                                                  
     </li>
     <li class="itemize">These similitude measures are used only by MPEG compressors. Therefore, any
     other one with similar e&#xFB00;ects &#x0028;such as the error variance or the error entropy&#x0029;
     could be used also.
     </li>
     <li class="itemize">Other less common distortion metrics that can work are:
         <ul class="itemize2">
         <li class="itemize"><span 
class="ecbx-1000">EE &#x0028;Error </span><a 
href="https://en.wikipedia.org/wiki/Entropy_(information_theory)" ><span 
class="ecbx-1000">Entropy</span></a>:
         <table class="equation"><tr><td> <a 
 id="x1-6003r3"></a>
         <!--l. 134--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                <mo 
class="MathClass-bin">&#x2212;</mo>  <mfrac><mrow 
><mn>1</mn></mrow>
<mrow 
><mn>1</mn><mn>6</mn> <mo 
class="MathClass-bin">&#x00D7;</mo> <mn>1</mn><mn>6</mn></mrow></mfrac><munderover accentunder="false" accent="false"><mrow  
><mo  
>&#x2211;</mo>
  </mrow><mrow 
><mi 
>i</mi><mo 
class="MathClass-rel">=</mo><mn>1</mn></mrow><mrow 
><mn>1</mn><mn>6</mn></mrow></munderover 
><munderover accentunder="false" accent="false"><mrow  
><mo  
> &#x2211;</mo>
</mrow><mrow 
><mi 
>j</mi><mo 
class="MathClass-rel">=</mo><mn>1</mn></mrow><mrow 
><mn>1</mn><mn>6</mn></mrow></munderover 
><msub><mrow 
><mi class="qopname"> log</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--> </mo><!--nolimits--></mrow><mrow 
>
<mn>2</mn></mrow></msub 
><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>a</mi></mrow><mrow 
><mi 
>i</mi><mi 
>j</mi></mrow></msub 
> <mo 
class="MathClass-bin">&#x2212;</mo> <msub><mrow 
><mi 
>b</mi></mrow><mrow 
><mi 
>i</mi><mi 
>j</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo><mi 
>p</mi><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>a</mi></mrow><mrow 
><mi 
>i</mi><mi 
>j</mi></mrow></msub 
> <mo 
class="MathClass-bin">&#x2212;</mo> <msub><mrow 
><mi 
>b</mi></mrow><mrow 
><mi 
>i</mi><mi 
>j</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo>
</math></td><td class="eq-no">&#x0028;3&#x0029;</td></tr></table>
         </li></ul>
     </li></ul>
<!--l. 140--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">6   </span> <a 
 id="x1-70006"></a>Searching strategies</h3>
     <ul class="itemize1">
     <li class="itemize">Only performed by the compressor.
         <ul class="itemize2">
         <li class="itemize"><span 
class="ecbx-1000">Full  search</span>:  All  the  possibilities  are  checked  &#x0028;see  the  Fig.&#x00A0;<a 
href="#x1-7001r4">4<!--tex4ht:ref: fig:full_search --></a>&#x0029;.
         Advantage: the best compression. Disadvantage: CPU killer.</li></ul>
     <hr class="figure" /><div class="figure" 
><div style="text-align:center;"> <img width=500 src="graphics/full_search.svg" /> </div>   <a 
 id="x1-7001r4"></a>
<a 
 id="x1-7002"></a>
<br />                                                                  <div class="caption" 
><span class="id">
Figure&#x00A0;4: </span><span  
class="content">The full search scheme.
</span></div><!--tex4ht:label?: x1-7001r6 -->
                                                                  

                                                                  
     </div><hr class="endfigure" />
         <ul class="itemize2">
         <li class="itemize">** Logaritmic search**: It is a version of the full search algorithm
         where the macro-blocks and the search area are sub-sampled. After
         &#xFB01;nding the best coincidence, the resolution is increased in a power of 2
         and the previous match is re&#xFB01;ned in a search area of <!--l. 163--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-bin">&#x00B1;</mo> <mn>1</mn></math>,
         until the maximal resolution &#x0028;even using subpixel accuracy&#x0029; is reached.</li></ul>
         <ul class="itemize2">
         <li class="itemize"><span 
class="ecbx-1000">Telescopic search</span>: Any of the previously described techniques can
         be speeded up if the searching area is reduced. This can be done
         supposing that the motion vector of the same macro-block in two
         consecutive images is similar.</li></ul>
     </li></ul>
<!--l. 177--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">7   </span> <a 
 id="x1-80007"></a>The GOP &#x0028;Group Of Pictures&#x0029; concept</h3>
     <ul class="itemize1">
     <li class="itemize">The temporal redundancy is exploited by blocks of images called GOPs.
     This means that a GOP can be decoded independently of the rest of GOPs
     &#x0028;see the Fig.&#x00A0;<a 
href="#x1-8001r5">5<!--tex4ht:ref: fig:GOPs --></a>&#x0029;.</li></ul>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
                                                                  

                                                                  
<!--l. 187--><p class="noindent" ><div style="text-align:center;"> <img width=500 src="graphics/GOPs.svg" /> </div>  <a 
 id="x1-8001r5"></a>
<a 
 id="x1-8002"></a>
<br />                                                                  </p><div class="caption" 
><span class="id">
Figure&#x00A0;5: </span><span  
class="content">A GOP.
</span></div><!--tex4ht:label?: x1-8001r7 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
   <h3 class="sectionHead"><span class="titlemark">8   </span> <a 
 id="x1-90008"></a>MCTF &#x0028;Motion Compensated Temporal Filtering&#x0029;</h3>
     <ul class="itemize1">
     <li class="itemize">This is a DWT where the input samples are the original video images and
     the output is a sequence of residue images.</li></ul>
<!--l. 200--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">9   </span> <a 
 id="x1-100009"></a><!--l. 200--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-bin">&#x00B1;</mo></math>
1-spiral-search ME &#x0028;Motion Estimation&#x0029;</h3>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
                                                                  

                                                                  
<!--l. 202--><p class="noindent" ><div style="text-align:center;"> <img width=500 src="graphics/spiral_search.svg" /> </div>  <a 
 id="x1-10001r6"></a>
<a 
 id="x1-10002"></a>
<br />                                                                  </p><div class="caption" 
><span class="id">
Figure&#x00A0;6: </span><span  
class="content">Spiral search.
</span></div><!--tex4ht:label?: x1-10001r9 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
   <h3 class="sectionHead"><span class="titlemark">10   </span> <a 
 id="x1-1100010"></a>Linear frame interpolation using block-based motion compensation</h3>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
                                                                  

                                                                  
<!--l. 210--><p class="noindent" ><div style="text-align:center;"> <img width=900 src="graphics/frame_interpolation.svg" /> </div>  <a 
 id="x1-11001r7"></a>
<a 
 id="x1-11002"></a>
<br />                                                                  </p><div class="caption" 
><span class="id">
Figure&#x00A0;7: </span><span  
class="content">Frame interpolation.
</span></div><!--tex4ht:label?: x1-11001r10 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
   <h4 class="likesubsectionHead"><a 
 id="x1-1200010"></a>Input</h4>
     <ul class="itemize1">
     <li class="itemize"><!--l. 219--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>R</mi></math>:
     square search area, in pixels.
     </li>
     <li class="itemize"><!--l. 221--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>B</mi></math>:
     square block size, in pixels.
     </li>
     <li class="itemize"><!--l. 223--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>O</mi></math>:
     border size, in pixels.
     </li>
     <li class="itemize"><!--l. 225--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>,
     <!--l. 225--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>
     and <!--l. 225--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>k</mi></mrow></msub 
></math>
     three chronologically ordered, equidistant frames, with resolution <!--l. 226--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>X</mi> <mo 
class="MathClass-bin">&#x00D7;</mo> <mi 
>Y</mi> </math>.
     </li>
     <li class="itemize"><!--l. 228--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>A</mi></math>:
     <!--l. 228--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mfrac><mrow 
><mn>1</mn></mrow>
<mrow 
><msup><mrow 
><mn>2</mn></mrow><mrow 
><mi 
>A</mi></mrow></msup 
></mrow></mfrac></math>
     subpixel accuracy.</li></ul>
<!--l. 231--><p class="noindent" >
</p>
   <h4 class="likesubsectionHead"><a 
 id="x1-1300010"></a>Output</h4>
     <ul class="itemize1">
     <li class="itemize"><!--l. 235--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>&#x015D;</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>:
     a prediction for frame <!--l. 235--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>.
     </li>
     <li class="itemize"><!--l. 237--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>m</mi></math>:
     a matrix with <!--l. 237--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-open">&#x2308;</mo><mi 
>X</mi><mo 
class="MathClass-bin">&#x2215;</mo><mi 
>B</mi><mo 
class="MathClass-close">&#x2309;</mo><mo 
class="MathClass-bin">&#x00D7;</mo><mo 
class="MathClass-open">&#x2308;</mo><mi 
>Y</mi><mo 
class="MathClass-bin">&#x2215;</mo><mi 
>B</mi><mo 
class="MathClass-close">&#x2309;</mo></math>
     bidirectional motion vectors.
     </li>
     <li class="itemize"><!--l. 240--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>e</mi></math>:
     a matrix with <!--l. 240--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mo 
class="MathClass-open">&#x2308;</mo><mi 
>X</mi><mo 
class="MathClass-bin">&#x2215;</mo><mi 
>B</mi><mo 
class="MathClass-close">&#x2309;</mo><mo 
class="MathClass-bin">&#x00D7;</mo><mo 
class="MathClass-open">&#x2308;</mo><mi 
>Y</mi><mo 
class="MathClass-bin">&#x2215;</mo><mi 
>B</mi><mo 
class="MathClass-close">&#x2309;</mo></math>
     bidirectional Root Mean Square matching Wrrors &#x0028;RMSE&#x0029;.</li></ul>
                                                                  

                                                                  
<!--l. 244--><p class="noindent" >
</p>
   <h4 class="likesubsectionHead"><a 
 id="x1-1400010"></a>Algorithm</h4>
<!--l. 245--><p class="noindent" >
     </p><ol  class="enumerate1" >
     <li 
  class="enumerate" id="x1-14002x1">Compute the DWT<!--l. 249--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
></mrow><mrow 
><mi 
>l</mi></mrow></msup 
></math>,
     where <!--l. 249--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>l</mi> <mo 
class="MathClass-rel">=</mo> <mo 
class="MathClass-open">&#x230A;</mo><msub><mrow 
><mi class="qopname">log</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--> </mo><!--nolimits--></mrow><mrow 
><mn>2</mn></mrow></msub 
><mo 
class="MathClass-open">&#x0028;</mo><mi 
>R</mi><mo 
class="MathClass-close">&#x0029;</mo><mo 
class="MathClass-close">&#x230B;</mo><mo 
class="MathClass-bin">&#x2212;</mo> <mn>1</mn></math>
     levels, of the predicted frame <!--l. 250--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>
     and the two reference frames <!--l. 250--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>
     and <!--l. 251--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>k</mi></mrow></msub 
></math>.
     <a 
href="https://vicente-gonzalez-ruiz.github.io/video_compression/graphics/frame_interpolation_step_1.svg" >Example</a>.
     </li>
     <li 
  class="enumerate" id="x1-14004x2"><!--l. 255--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mi 
>l</mi></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><mi 
>m</mi><mo 
class="MathClass-close">&#x0029;</mo> <mo 
class="MathClass-rel">&#x2190;</mo> <mn>0</mn></math>,
     or any other precomputed values &#x0028;for example, from a previous ME in
     neighbor frames&#x0029;. <a 
href="https://vicente-gonzalez-ruiz.github.io/video_compression/graphics/frame_interpolation_step_2.svg" >Example</a>.
     </li>
     <li 
  class="enumerate" id="x1-14006x3">Divide the subband <!--l. 260--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mi 
>l</mi></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo></math>
     into blocks of size <!--l. 260--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>B</mi> <mo 
class="MathClass-bin">&#x00D7;</mo> <mi 
>B</mi></math>
     pixels, and <!--l. 261--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-bin">&#x00B1;</mo> <mn>1</mn></math>-spiral-search
     them in the subbands <!--l. 261--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mi 
>l</mi></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo></math>
     and <!--l. 262--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mi 
>l</mi></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>k</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo></math>,
     calculating a low-resolution <!--l. 263--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mi 
>l</mi></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><mi 
>m</mi><mo 
class="MathClass-close">&#x0029;</mo> <mo 
class="MathClass-rel">=</mo> <mo 
class="MathClass-open">&#x007B;</mo><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mi 
>l</mi></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><mover class="overleftarrow"><mrow 
><mi 
>m</mi></mrow><mi 
class="MathClass-op">&#x20D6;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover><mo 
class="MathClass-close">&#x0029;</mo><mo 
class="MathClass-punc">,</mo><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mi 
>l</mi></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><mover class="overrightarrow"><mrow 
><mi 
>m</mi></mrow><mi 
class="MathClass-op">&#x20D7;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover><mo 
class="MathClass-close">&#x0029;</mo><mo 
class="MathClass-close">&#x007D;</mo></math>
     bi-directional motion vector &#xFB01;eld. <a 
href="https://vicente-gonzalez-ruiz.github.io/video_compression/graphics/frame_interpolation_step_3A.svg" >Example</a>. <a 
href="https://vicente-gonzalez-ruiz.github.io/video_compression/graphics/frame_interpolation_step_3A_bis.svg" >Example</a>.
     </li>
     <li 
  class="enumerate" id="x1-14008x4">While <!--l. 268--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>l</mi> <mo 
class="MathClass-rel">&#x003E;</mo> <mn>0</mn></math>:
     <!--l. 270--><p class="noindent" >
         </p><ol  class="enumerate2" >
         <li 
  class="enumerate" id="x1-14010x1">Synthesize <!--l. 273--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mi 
>l</mi><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><mi 
>m</mi><mo 
class="MathClass-close">&#x0029;</mo></math>,
         <!--l. 273--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mi 
>l</mi><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo></math>,
         <!--l. 273--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mi 
>l</mi><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo></math>
         and <!--l. 274--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mi 
>l</mi><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>k</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo></math>,
         by computing the 1-level DWT<!--l. 274--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
></math>.
         <a 
href="https://vicente-gonzalez-ruiz.github.io/video_compression/graphics/frame_interpolation_step_4A.svg" >Example</a>. <a 
href="https://vicente-gonzalez-ruiz.github.io/video_compression/graphics/frame_interpolation_step_4A_bis.svg" >Example</a>
         </li>
         <li 
  class="enumerate" id="x1-14012x2"><!--l. 279--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mi 
>l</mi><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><mi 
>M</mi><mo 
class="MathClass-close">&#x0029;</mo> <mo 
class="MathClass-rel">&#x2190;</mo> <mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mi 
>l</mi><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><mi 
>M</mi><mo 
class="MathClass-close">&#x0029;</mo> <mo 
class="MathClass-bin">&#x00D7;</mo> <mn>2</mn></math>.
         <a 
href="https://vicente-gonzalez-ruiz.github.io/video_compression/graphics/frame_interpolation_step_4B.svg" >Example</a>.
         </li>
         <li 
  class="enumerate" id="x1-14014x3">Re&#xFB01;ne <!--l. 283--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mi 
>l</mi><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><mi 
>m</mi><mo 
class="MathClass-close">&#x0029;</mo></math>
         using <!--l. 283--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-bin">&#x00B1;</mo> <mn>1</mn></math>-spiral-search.
         <a 
href="https://vicente-gonzalez-ruiz.github.io/video_compression/graphics/frame_interpolation_step_4C.svg" >Example</a>.
         </li>
         <li 
  class="enumerate" id="x1-14016x4"><!--l. 287--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>l</mi> <mo 
class="MathClass-rel">&#x2190;</mo> <mi 
>l</mi> <mo 
class="MathClass-bin">&#x2212;</mo> <mn>1</mn></math>.
         &#x0028;When <!--l. 287--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>l</mi> <mo 
class="MathClass-rel">=</mo> <mn>0</mn></math>,
         the motion vectors &#xFB01;eld <!--l. 287--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>m</mi></math>
                                                                  

                                                                  
         has the structure:&#x0029;
         </li></ol>
     <!--l. 292--><p class="noindent" ><a 
href="https://vicente-gonzalez-ruiz.github.io/video_compression/graphics/motion_vectors.svg" >Example</a>.
     </p></li>
     <li 
  class="enumerate" id="x1-14018x5">While <!--l. 295--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>l</mi> <mo 
class="MathClass-rel">&#x003C;</mo> <mi 
>A</mi></math> &#x0028;in the
     &#xFB01;rst iteration, <!--l. 295--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>l</mi> <mo 
class="MathClass-rel">=</mo> <mn>0</mn></math>,
     and <!--l. 295--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mn>0</mn></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><mi 
>M</mi><mo 
class="MathClass-close">&#x0029;</mo> <mo 
class="MathClass-punc">:</mo><mo 
class="MathClass-rel">=</mo> <mi 
>M</mi></math>&#x0029;:
     <!--l. 297--><p class="noindent" >
         </p><ol  class="enumerate2" >
         <li 
  class="enumerate" id="x1-14020x1"><!--l. 299--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>l</mi> <mo 
class="MathClass-rel">&#x2190;</mo> <mi 
>l</mi> <mo 
class="MathClass-bin">+</mo> <mn>1</mn></math>.
         </li>
         <li 
  class="enumerate" id="x1-14022x2">Synthesize <!--l. 302--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mi 
>l</mi></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo></math>,
         <!--l. 302--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mi 
>l</mi></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo></math>
         and <!--l. 302--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mi 
>l</mi></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>k</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo></math>,
         computing the 1-level DWT<!--l. 303--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msup 
></math>
         &#x0028;high-frequency subbands are <!--l. 304--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>0</mn></math>&#x0029;.
         This performs a zoom-in in these frames using <!--l. 304--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>1</mn><mo 
class="MathClass-bin">&#x2215;</mo><mn>2</mn></math>-subpixel
         accuracy.
         <!--l. 307--><p class="noindent" ><a 
href="https://vicente-gonzalez-ruiz.github.io/video_compression/graphics/frame_interpolation_step_5B.svg" >Example</a>.
         </p></li>
         <li 
  class="enumerate" id="x1-14024x3"><!--l. 310--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>m</mi> <mo 
class="MathClass-rel">&#x2190;</mo> <mi 
>m</mi> <mo 
class="MathClass-bin">&#x00D7;</mo> <mn>2</mn></math>.
         <!--l. 312--><p class="noindent" ><a 
href="https://vicente-gonzalez-ruiz.github.io/video_compression/graphics/motion_vectors_by_2.svg" >Example</a>.
         </p></li>
         <li 
  class="enumerate" id="x1-14026x4"><!--l. 315--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>B</mi> <mo 
class="MathClass-rel">&#x2190;</mo> <mi 
>B</mi> <mo 
class="MathClass-bin">&#x00D7;</mo> <mn>2</mn></math>.
         </li>
         <li 
  class="enumerate" id="x1-14028x5">Divide the subband <!--l. 318--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mi 
>l</mi></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo></math>
         into blocks of <!--l. 318--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>B</mi> <mo 
class="MathClass-bin">&#x00D7;</mo> <mi 
>B</mi></math>
         pixels and <!--l. 319--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mo 
class="MathClass-bin">&#x00B1;</mo> <mn>1</mn></math>-spiral-search
         them into the subbands <!--l. 320--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mi 
>l</mi></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo></math>
         and <!--l. 320--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>L</mi><msup><mrow 
><mi 
>L</mi></mrow><mrow 
><mo 
class="MathClass-bin">&#x2212;</mo><mi 
>l</mi></mrow></msup 
><mo 
class="MathClass-open">&#x0028;</mo><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>k</mi></mrow></msub 
><mo 
class="MathClass-close">&#x0029;</mo></math>,
         calculating a <!--l. 320--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mn>1</mn><mo 
class="MathClass-bin">&#x2215;</mo><msup><mrow 
><mn>2</mn></mrow><mrow 
><mi 
>l</mi></mrow></msup 
></math>
         sub-pixel accuracy <!--l. 321--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>m</mi></math>
         bi-directional motion vector &#xFB01;eld. <a 
href="https://vicente-gonzalez-ruiz.github.io/video_compression/graphics/motion_vectors_definitive.svg" >Example</a>.
         </li>
         <li 
  class="enumerate" id="x1-14030x6">Frame prediction. For each block <!--l. 325--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>b</mi></math>:
         </li>
         <li 
  class="enumerate" id="x1-14032x7">Compute <table class="equation"><tr><td> <a 
 id="x1-14033r4"></a>
                                                                  

                                                                  
         <!--l. 329--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                         <mover 
accent="true"><mrow 
><mi 
>b</mi></mrow><mo accent="true">&#x005E;</mo></mover> <mo 
class="MathClass-rel">&#x2190;</mo> <mfrac><mrow 
><msub><mrow 
><mi 
>b</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
><mstyle mathsize="1.19em"><mrow><mo fence="true" form="prefix"> (</mo><mrow></mrow><mo fence="true" form="postfix"></mo></mrow></mstyle><msub><mrow 
><mover class="overleftarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D6;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover></mrow><mrow 
><mstyle 
class="text"><mtext  >max</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-bin">&#x2212;</mo><mover class="overleftarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D6;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover><mo 
class="MathClass-open">&#x0028;</mo><mi 
>b</mi><mo 
class="MathClass-close">&#x0029;</mo><mstyle mathsize="1.19em"><mrow><mo fence="true" form="prefix"> )</mo><mrow></mrow><mo fence="true" form="postfix"></mo></mrow></mstyle> <mo 
class="MathClass-bin">+</mo> <msub><mrow 
><mi 
>b</mi></mrow><mrow 
><mi 
>k</mi></mrow></msub 
><mstyle mathsize="1.19em"><mrow><mo fence="true" form="prefix"> (</mo><mrow></mrow><mo fence="true" form="postfix"></mo></mrow></mstyle><msub><mrow 
><mover class="overrightarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D7;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover></mrow><mrow 
><mstyle 
class="text"><mtext  >max</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-bin">&#x2212;</mo><mover class="overrightarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D7;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover><mo 
class="MathClass-open">&#x0028;</mo><mi 
>b</mi><mo 
class="MathClass-close">&#x0029;</mo><mstyle mathsize="1.19em"><mrow><mo fence="true" form="prefix"> )</mo><mrow></mrow><mo fence="true" form="postfix"></mo></mrow></mstyle></mrow> 
   <mrow 
><mstyle mathsize="1.19em"><mrow><mo fence="true" form="prefix"> (</mo><mrow></mrow><mo fence="true" form="postfix"></mo></mrow></mstyle><msub><mrow 
><mover class="overleftarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D6;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover></mrow><mrow 
><mstyle 
class="text"><mtext  >max</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-bin">&#x2212;</mo><mover class="overleftarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D6;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover><mo 
class="MathClass-open">&#x0028;</mo><mi 
>b</mi><mo 
class="MathClass-close">&#x0029;</mo><mstyle mathsize="1.19em"><mrow><mo fence="true" form="prefix"> )</mo><mrow></mrow><mo fence="true" form="postfix"></mo></mrow></mstyle> <mo 
class="MathClass-bin">+</mo> <mstyle mathsize="1.19em"><mrow><mo fence="true" form="prefix"> (</mo><mrow></mrow><mo fence="true" form="postfix"></mo></mrow></mstyle><msub><mrow 
><mover class="overrightarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D7;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover></mrow><mrow 
><mstyle 
class="text"><mtext  >max</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-bin">&#x2212;</mo><mover class="overrightarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D7;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover><mo 
class="MathClass-open">&#x0028;</mo><mi 
>b</mi><mo 
class="MathClass-close">&#x0029;</mo><mstyle mathsize="1.19em"><mrow><mo fence="true" form="prefix"> )</mo><mrow></mrow><mo fence="true" form="postfix"></mo></mrow></mstyle></mrow></mfrac>   <mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">&#x0028;4&#x0029;</td></tr></table>
         <!--l. 333--><p class="noindent" >where <!--l. 333--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mover class="overleftarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D6;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover><mo 
class="MathClass-open">&#x0028;</mo><mi 
>b</mi><mo 
class="MathClass-close">&#x0029;</mo></math>
         is the &#x0028;minimum&#x0029; distortion of the best backward matching for block
         <!--l. 334--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>b</mi></math>,
         <!--l. 334--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mover class="overrightarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D7;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover><mo 
class="MathClass-open">&#x0028;</mo><mi 
>b</mi><mo 
class="MathClass-close">&#x0029;</mo></math>
         the &#x0028;minimum&#x0029; distortion of the best forward matching for block
         <!--l. 336--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>b</mi></math>,
         <!--l. 337--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mover class="overleftarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D6;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover></mrow><mrow 
><mstyle 
class="text"><mtext  >max</mtext></mstyle></mrow></msub 
> <mo 
class="MathClass-rel">=</mo><msub><mrow 
> <mover class="overrightarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D7;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover></mrow><mrow 
><mstyle 
class="text"><mtext  >max</mtext></mstyle></mrow></msub 
></math>
         are the backward and forward maximum matching distortions,
         <!--l. 338--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>b</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>
         is the &#x0028;backward&#x0029; block found &#x0028;as the most similar to
         <!--l. 339--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>b</mi></math>&#x0029; in
         frame <!--l. 340--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>
         and <!--l. 340--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>b</mi></mrow><mrow 
><mi 
>k</mi></mrow></msub 
></math>
         is the &#x0028;forward&#x0029; block found in frame
         <!--l. 341--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>k</mi></mrow></msub 
></math>. Notice
         that, if <!--l. 342--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mover class="overleftarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D6;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover><mo 
class="MathClass-open">&#x0028;</mo><mi 
>b</mi><mo 
class="MathClass-close">&#x0029;</mo> <mo 
class="MathClass-rel">=</mo> <mover class="overrightarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D7;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover><mo 
class="MathClass-open">&#x0028;</mo><mi 
>b</mi><mo 
class="MathClass-close">&#x0029;</mo></math>,
         then the prediction is </p><table class="equation"><tr><td> <a 
 id="x1-14034r5"></a>
         <!--l. 344--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                                           <mover 
accent="true"><mrow 
><mi 
>b</mi></mrow><mo accent="true">&#x005E;</mo></mover> <mo 
class="MathClass-rel">=</mo> <mfrac><mrow 
><msub><mrow 
><mi 
>b</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
> <mo 
class="MathClass-bin">+</mo> <msub><mrow 
><mi 
>b</mi></mrow><mrow 
><mi 
>k</mi></mrow></msub 
></mrow> 
    <mrow 
><mn>2</mn></mrow></mfrac>    <mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">&#x0028;5&#x0029;</td></tr></table>
         <!--l. 347--><p class="noindent" >and if <!--l. 347--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mover class="overleftarrow"><mrow 
><mi 
>e</mi></mrow><mi 
class="MathClass-op">&#x20D6;</mi><mo> &ApplyFunction;<!--FUNCTION APPLICATION--></mo></mover><mo 
class="MathClass-open">&#x0028;</mo><mi 
>b</mi><mo 
class="MathClass-close">&#x0029;</mo> <mo 
class="MathClass-rel">=</mo> <mn>0</mn></math>,
         </p><table class="equation"><tr><td> <a 
 id="x1-14035r6"></a>
                                                                  

                                                                  
         <!--l. 348--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                                              <mover 
accent="true"><mrow 
><mi 
>b</mi></mrow><mo accent="true">&#x005E;</mo></mover> <mo 
class="MathClass-rel">=</mo> <msub><mrow 
><mi 
>b</mi></mrow><mrow 
><mi 
>k</mi></mrow></msub 
><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">&#x0028;6&#x0029;</td></tr></table>
         <!--l. 350--><p class="noindent" >and viceversa.</p></li></ol>
     </li></ol>
<!--l. 354--><p class="noindent" >
</p>
   <h4 class="likesubsectionHead"><a 
 id="x1-1500010"></a>Lab</h4>
<!--l. 355--><p class="noindent" >Implement  the  Section  <a 
href="#x1-1100010">10<!--tex4ht:ref: sec:linear_frame_interpolation --></a>  &#x0028;work  on
<a 
href="https://github.com/Sistemas-Multimedia/MCDWT/blob/master/transform/mc/block/interpolate.py" class="url" ><span 
class="ectt-1000">https://github.com/Sistemas-Multimedia/MCDWT/blob/master/transform/mc/block/interpolate.py</span></a>&#x0029;.
Use <a 
href="https://github.com/Sistemas-Multimedia/MCDWT/blob/master/mcdwt/mc/block/interpolate.py" class="url" ><span 
class="ectt-1000">https://github.com/Sistemas-Multimedia/MCDWT/blob/master/mcdwt/mc/block/interpolate.py</span></a> and
<a 
href="https://github.com/vicente-gonzalez-ruiz/MCTF-video-coding/blob/master/src/motion\_estimate.cpp" class="url" ><span 
class="ectt-1000">https://github.com/vicente-gonzalez-ruiz/MCTF-video-coding/blob/master/src/motion&#x005C;_estimate.cpp</span></a>
as reference.
</p><!--l. 363--><p class="noindent" >
</p>
   <h4 class="likesubsectionHead"><a 
 id="x1-1600010"></a>Lab</h4>
<!--l. 364--><p class="noindent" >Compare the performance of the proposed matching strategies &#x0028;MSE, MAE and EE&#x0029; in the
Section <a 
href="#x1-1100010">10<!--tex4ht:ref: sec:linear_frame_interpolation --></a>, by computing the variance of the prediction error between the original frame
&#x0028;<!--l. 367--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>&#x0029; and the
prediction frame &#x0028;<!--l. 367--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>&#x015D;</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>&#x0029;.
</p><!--l. 369--><p class="noindent" >
</p>
   <h4 class="likesubsectionHead"><a 
 id="x1-1700010"></a>Lab</h4>
<!--l. 370--><p class="noindent" >Test di&#xFB00;erent DWT &#xFB01;lters in the Section <a 
href="#x1-1100010">10<!--tex4ht:ref: sec:linear_frame_interpolation --></a> and compare their
performance. Compute the prediction error between the original frame
&#x0028;<!--l. 372--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>&#x0029; and the
prediction frame &#x0028;<!--l. 373--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>&#x015D;</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>&#x0029;.
Measure the dependency between this performance and the distance between frames
&#x0028;<!--l. 374--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>i</mi></math>,
<!--l. 374--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>j</mi></math>, and
<!--l. 375--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>k</mi></math>
indexes&#x0029;.
                                                                  

                                                                  
</p><!--l. 377--><p class="noindent" >
</p>
   <h4 class="likesubsectionHead"><a 
 id="x1-1800010"></a>Lab</h4>
<!--l. 378--><p class="noindent" >Test the use of both the luma and the chroma in Section <a 
href="#x1-1100010">10<!--tex4ht:ref: sec:linear_frame_interpolation --></a>, and
measure the performance of each option &#x0028;only luma vs.&#x00A0;all components&#x0029;,
by computing the prediction error between the original frame
&#x0028;<!--l. 381--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>&#x0029; and the
prediction frame &#x0028;<!--l. 382--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>&#x015D;</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>&#x0029;.
Measure the dependency of the results with the distance between frames
&#x0028;<!--l. 383--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>i</mi></math>,
<!--l. 383--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>j</mi></math>, and
<!--l. 383--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>k</mi></math>
indexes&#x0029;.
</p><!--l. 385--><p class="noindent" >
</p>
   <h4 class="likesubsectionHead"><a 
 id="x1-1900010"></a>Lab</h4>
<!--l. 386--><p class="noindent" >Analyze the impact of the <!--l. 386--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>R</mi></math>
&#x0028;search range&#x0029; parameter in the Section <a 
href="#x1-1100010">10<!--tex4ht:ref: sec:linear_frame_interpolation --></a>. Compute the prediction error between the original
frame &#x0028;<!--l. 388--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>&#x0029; and the
prediction frame &#x0028;<!--l. 389--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>&#x015D;</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>&#x0029;.
Study the impact of initializing the motion vectors &#x0028;Section
<span 
class="ecbx-1000">??</span>&#x0029;. Measure the dependency with the distance between frames
&#x0028;<!--l. 391--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>i</mi></math>,
<!--l. 391--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>j</mi></math>, and
<!--l. 391--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>k</mi></math>
indexes&#x0029;.
</p><!--l. 393--><p class="indent" >   <a 
href="https://nbviewer.jupyter.org/github/vicente-gonzalez-ruiz/video_coding/blob/master/search_range.ipynb" >IPython notebook</a>
</p><!--l. 395--><p class="noindent" >
</p>
   <h4 class="likesubsectionHead"><a 
 id="x1-2000010"></a>Lab</h4>
<!--l. 396--><p class="noindent" >Analyze the impact of the <!--l. 396--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>O</mi></math>
&#x0028;overlaping&#x0029; parameter in the Section <span 
class="ecbx-1000">??</span>, by means of
computing the prediction error between the original frame
&#x0028;<!--l. 398--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>&#x0029; and the
prediction frame &#x0028;<!--l. 399--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>&#x015D;</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>&#x0029;.
Measure the dependency with the distance between frames
&#x0028;<!--l. 400--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>i</mi></math>,
<!--l. 400--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>j</mi></math>, and
<!--l. 400--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>k</mi></math>
indexes&#x0029;.
                                                                  

                                                                  
</p><!--l. 402--><p class="noindent" >
</p>
   <h4 class="likesubsectionHead"><a 
 id="x1-2100010"></a>Lab</h4>
<!--l. 403--><p class="noindent" >Analyze the impact of the <!--l. 403--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>B</mi></math>
&#x0028;block size&#x0029; parameter in the Section <span 
class="ecbx-1000">??</span>, by computing the prediction error between the original
frame &#x0028;<!--l. 405--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>&#x0029; and the
prediction frame &#x0028;<!--l. 406--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>&#x015D;</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>&#x0029;.
Compute the expected size of the motion &#xFB01;elds using their 0-order
entropy. Measure the dependency with the distance between frames
&#x0028;<!--l. 408--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>i</mi></math>,
<!--l. 408--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>j</mi></math>, and
<!--l. 408--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>k</mi></math>
indexes&#x0029;.
</p><!--l. 410--><p class="noindent" >
</p>
   <h4 class="likesubsectionHead"><a 
 id="x1-2200010"></a>Lab</h4>
<!--l. 411--><p class="noindent" >Analyze the impact of the <!--l. 411--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>A</mi></math>
&#x0028;subpixel accuracy&#x0029; parameter in the Section <span 
class="ecbx-1000">??</span>, by computing the prediction error between the
original frame &#x0028;<!--l. 413--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>s</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>&#x0029; and
the prediction frame &#x0028;<!--l. 414--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>&#x015D;</mi></mrow><mrow 
><mi 
>j</mi></mrow></msub 
></math>&#x0029;.
Compute the expected size of the motion &#xFB01;elds using their entropy.
Measure the dependency with the distance between frames
&#x0028;<!--l. 416--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>i</mi></math>,
<!--l. 416--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>j</mi></math>, and
<!--l. 416--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>k</mi></math>
indexes&#x0029;.
</p><!--l. 418--><p class="indent" >   <a 
href="https://nbviewer.jupyter.org/github/vicente-gonzalez-ruiz/video_coding/blob/master/subpixel_accuracy.ipynb" >IPython notebook</a>
</p><!--l. 420--><p class="noindent" >
</p>
   <h4 class="likesubsectionHead"><a 
 id="x1-2300010"></a>Lab</h4>
<!--l. 421--><p class="noindent" >Compare the performance of the Section <span 
class="ecbx-1000">??</span> when it holds that
</p>
   <table class="equation"><tr><td> <a 
 id="x1-23001r7"></a>
                                                                  

                                                                  
<!--l. 424--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                           <mover 
accent="true"><mrow 
><mi 
>b</mi></mrow><mo accent="true">&#x005E;</mo></mover> <mo 
class="MathClass-rel">=</mo> <mfrac><mrow 
><msub><mrow 
><mi 
>b</mi></mrow><mrow 
><mi 
>i</mi></mrow></msub 
> <mo 
class="MathClass-bin">+</mo> <msub><mrow 
><mi 
>b</mi></mrow><mrow 
><mi 
>k</mi></mrow></msub 
></mrow> 
    <mrow 
><mn>2</mn></mrow></mfrac>    <mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">&#x0028;7&#x0029;</td></tr></table>
<!--l. 428--><p class="indent" >   for all blocks.
</p><!--l. 430--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">11   </span> <a 
 id="x1-2400011"></a>MC/DWT hybrid coding alternatives</h3>
     <ul class="itemize1">
     <li class="itemize"><span 
class="ecbx-1000">t+2d</span>: The sequence of images is decorrelated &#xFB01;rst along the time &#x0028;t&#x0029; and
     the residue images are compressed, exploiting the remaining spatial &#x0028;2d&#x0029;
     redundancy. Examples: MPEG* and H.26* codecs &#x0028;except H.264/SVC&#x0029;.
     </li>
     <li class="itemize"><span 
class="ecbx-1000">2d+t</span>: The spatial &#x0028;2d&#x0029; redudancy is explited &#xFB01;rst &#x0028;using typically the
     DWT&#x0029; and after that, the coe&#xFB03;cients are decorrelated along the time &#x0028;t&#x0029;.
     For now, this has only been an experimental setup because most DWT
     transformed domains are not invariant to the displacement, and therefore,
     ME/MC can not be directly applied.
     </li>
     <li class="itemize"><span 
class="ecbx-1000">2d+t+2d</span>:  The  &#xFB01;st  step  creates  a  Laplacian  Pyramid  &#x0028;2d&#x0029;,  which
     is  invariant  to  the  displacement.  Next,  each  level  of  the  pyramid
     is  decorrelated  along  the  time  &#x0028;t&#x0029;  and  &#xFB01;nally,  the  remaining  spatial
     redundancy is removed &#x0028;2d&#x0029;. The Fig&#x00A0;<a 
href="#x1-24001r8">8<!--tex4ht:ref: fig:H264-S-SVC --></a> show an example for H.264/SVC.</li></ul>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
                                                                  

                                                                  
<!--l. 452--><p class="noindent" ><div style="text-align:center;"> <img width=500 src="graphics/H264-S-SVC.svg" /> </div>  <a 
 id="x1-24001r8"></a>
<a 
 id="x1-24002"></a>
<br />                                                                  </p><div class="caption" 
><span class="id">
Figure&#x00A0;8: </span><span  
class="content">SVC scheme in H.264.
</span></div><!--tex4ht:label?: x1-24001r11 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
   <h3 class="sectionHead"><span class="titlemark">12   </span> <a 
 id="x1-2500012"></a>Deblocking &#xFB01;ltering</h3>
     <ul class="itemize1">
     <li class="itemize">If   any   other   block-overlaping   techniques   have   not   been   applied,
     block-based video encoders improve their performance if a deblocking &#xFB01;lter
     in used to create the quantized prediction predictions &#x0028;see the Fig.&#x00A0;<a 
href="#x1-25001r9">9<!--tex4ht:ref: fig:350px-Deblock1 --></a>&#x0029;.</li></ul>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
                                                                  

                                                                  
<!--l. 468--><p class="noindent" ><div style="text-align:center;"> <img src="graphics/350px-Deblock1.jpg" /> </div>  800 <a 
 id="x1-25001r9"></a>
<a 
 id="x1-25002"></a>
<br />                                                                  </p><div class="caption" 
><span class="id">
Figure&#x00A0;9: </span><span  
class="content">Deblocking &#xFB01;letering e&#xFB00;ect.
</span></div><!--tex4ht:label?: x1-25001r12 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
     <ul class="itemize1">
     <li class="itemize">The low-pass &#xFB01;lter is applied only on the block boundaries.</li></ul>
   <h3 class="sectionHead"><span class="titlemark">13   </span> <a 
 id="x1-2600013"></a>Bit-rate allocation</h3>
     <ul class="itemize1">
     <li class="itemize">VBR: Under a constant quantization level &#x0028;constant video quality&#x0029;, the
     number of bits that each compressed image needs depends on the image
     content &#x0028;Variable Bit-Rate&#x0029;. In the Fig.&#x00A0;<a 
href="#x1-26001r10">10<!--tex4ht:ref: fig:closed-loop-1_ir --></a> there is an example. <hr class="figure" /><div class="figure" 
><div style="text-align:center;"> <img width=500 src="graphics/closed-loop-1_ir.svg" /> </div>   <a 
 id="x1-26001r10"></a>
<a 
 id="x1-26002"></a>
<br />                                                                  <div class="caption" 
><span class="id">
Figure&#x00A0;10: </span><span  
class="content">Example of variable bit-allocation.
</span></div><!--tex4ht:label?: x1-26001r13 -->
     </div><hr class="endfigure" />
     </li>
     <li class="itemize">CBR: Using a Constant Bit-Rate strategy, all frames need the same space.
     In the Fig.&#x00A0;<span 
class="ecbx-1000">??</span> there is an example. <hr class="figure" /><div class="figure" 
><div style="text-align:center;"> <img width=500 src="graphics/CBR.svg" /> </div>   <a 
 id="x1-26003r11"></a>
<a 
 id="x1-26004"></a>
<br />                                                                  <div class="caption" 
><span class="id">
Figure&#x00A0;11: </span><span  
class="content">Example of constant bit-allocation.
</span></div><!--tex4ht:label?: x1-26003r13 -->
     </div><hr class="endfigure" />
     </li></ul>
<!--l. 505--><p class="noindent" >
</p>
   <h3 class="sectionHead"><span class="titlemark">14   </span> <a 
 id="x1-2700014"></a>Video scalability</h3>
<!--l. 506--><p class="noindent" >
</p>
   <h4 class="subsectionHead"><span class="titlemark">14.1   </span> <a 
 id="x1-2800014.1"></a>Quality scalability</h4>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
                                                                  

                                                                  
<!--l. 509--><p class="noindent" ><div style="text-align:center;"> <img width=1000 src="graphics/quality-scalability.svg" /> </div>  <a 
 id="x1-28001r12"></a>
<a 
 id="x1-28002"></a>
<br />                                                                  </p><div class="caption" 
><span class="id">
Figure&#x00A0;12: </span><span  
class="content">Quality scalability.
</span></div><!--tex4ht:label?: x1-28001r14 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
<!--l. 514--><p class="indent" >   V&#x00E9;ase la Fig.&#x00A0;<a 
href="#x1-28001r12">12<!--tex4ht:ref: fig:quality-scalability --></a>. </p>
     <ul class="itemize1">
     <li class="itemize">Ideal for remote visualization environments.
     </li>
     <li class="itemize">By de&#xFB01;nition, <!--l. 519--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msup><mrow 
><mi 
>V</mi> </mrow><mrow 
><mo 
class="MathClass-open">&#x005B;</mo><mn>0</mn><mo 
class="MathClass-close">&#x005D;</mo></mrow></msup 
> <mo 
class="MathClass-punc">:</mo><mo 
class="MathClass-rel">=</mo> <mi 
>V</mi> </math>.</li></ul>
   <h4 class="subsectionHead"><span class="titlemark">14.2   </span> <a 
 id="x1-2900014.2"></a>Temporal scalability</h4>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
                                                                  

                                                                  
<!--l. 524--><p class="noindent" ><div style="text-align:center;"> <img width=1000 src="graphics/temporal-scalability.svg" /> </div>  <a 
 id="x1-29001r13"></a>
<a 
 id="x1-29002"></a>
<br />                                                                  </p><div class="caption" 
><span class="id">
Figure&#x00A0;13: </span><span  
class="content">Temporal scalability.
</span></div><!--tex4ht:label?: x1-29001r14 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
<!--l. 529--><p class="indent" >   V&#x00E9;ase la Fig.&#x00A0;<a 
href="#x1-29001r13">13<!--tex4ht:ref: fig:temporal-scalability --></a>.
</p>
     <ul class="itemize1">
     <li class="itemize">It holds that
     <table class="equation"><tr><td> <a 
 id="x1-29003r8"></a>
     <!--l. 535--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="block" class="equation">
                                   <msup><mrow 
><mi 
>V</mi> </mrow><mrow 
><mi 
>t</mi></mrow></msup 
> <mo 
class="MathClass-rel">=</mo> <mo 
class="MathClass-open">&#x007B;</mo><msub><mrow 
><mi 
>V</mi> </mrow><mrow 
><msup><mrow 
>
<mn>2</mn></mrow><mrow 
><mi 
>t</mi></mrow></msup 
><mi 
>i</mi></mrow></msub 
><mo 
class="MathClass-close">&#x007D;</mo> <mo 
class="MathClass-rel">=</mo> <mo 
class="MathClass-open">&#x007B;</mo><msubsup><mrow 
><mi 
>V</mi> </mrow><mrow 
><mn>2</mn><mi 
>i</mi></mrow><mrow 
><mi 
>t</mi><mo 
class="MathClass-bin">&#x2212;</mo><mn>1</mn></mrow></msubsup 
><mo 
class="MathClass-close">&#x007D;</mo><mo 
class="MathClass-punc">,</mo>
</math></td><td class="eq-no">&#x0028;8&#x0029;</td></tr></table>
     <!--l. 539--><p class="noindent" >where <!--l. 539--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>t</mi></math>
     denotes the Temporal Resolution Level &#x0028;TRL&#x0029;.
     </p></li>
     <li class="itemize">Notice that <!--l. 541--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>V</mi> <mo 
class="MathClass-punc">:</mo><mo 
class="MathClass-rel">=</mo> <msup><mrow 
><mi 
>V</mi> </mrow><mrow 
><mn>0</mn></mrow></msup 
></math>.
     </li>
     <li class="itemize">Useful for fast random access.</li></ul>
   <h4 class="subsectionHead"><span class="titlemark">14.3   </span> <a 
 id="x1-3000014.3"></a><a 
href="http://inst.eecs.berkeley.edu/~ee290t/sp04/lectures/videowavelet_UCB1-3.pdf" >Spatial scalability</a></h4>
   <hr class="figure" /><div class="figure" 
>
                                                                  

                                                                  
                                                                  

                                                                  
<!--l. 552--><p class="noindent" ><div style="text-align:center;"> <img width=1000 src="graphics/spatial-scalability.svg" /> </div>  <a 
 id="x1-30001r14"></a>
<a 
 id="x1-30002"></a>
<br />                                                                  </p><div class="caption" 
><span class="id">
Figure&#x00A0;14: </span><span  
class="content">Spatial scalability.
</span></div><!--tex4ht:label?: x1-30001r14 -->
                                                                  

                                                                  
   </div><hr class="endfigure" />
<!--l. 557--><p class="indent" >   V&#x00E9;ase la Fig.&#x00A0;<a 
href="#x1-30001r14">14<!--tex4ht:ref: fig:spatial-scalability --></a>.
</p>
     <ul class="itemize1">
     <li class="itemize">Useful for low-resolution devices.
     </li>
     <li class="itemize">By de&#xFB01;nition, <!--l. 563--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>V</mi> </mrow><mrow 
><mi 
>i</mi></mrow></msub 
> <mo 
class="MathClass-punc">:</mo><mo 
class="MathClass-rel">=</mo> <msubsup><mrow 
><mi 
>V</mi> </mrow><mrow 
><mi 
>i</mi></mrow><mrow 
><mo 
class="MathClass-rel">&#x003C;</mo><mn>0</mn><mo 
class="MathClass-rel">&#x003E;</mo></mrow></msubsup 
></math>
     and <!--l. 563--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msubsup><mrow 
><mi 
>V</mi> </mrow><mrow 
><mi 
>i</mi></mrow><mrow 
><mo 
class="MathClass-rel">&#x003C;</mo><mi 
>s</mi><mo 
class="MathClass-rel">&#x003E;</mo></mrow></msubsup 
></math>
     has a <!--l. 564--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" > <mfrac><mrow 
><mi 
>Y</mi> </mrow>
<mrow 
><msup><mrow 
><mn>2</mn></mrow><mrow 
><mi 
>s</mi></mrow></msup 
></mrow></mfrac> <mo 
class="MathClass-bin">&#x00D7;</mo><mfrac><mrow 
><mi 
>X</mi></mrow> 
<mrow 
><msup><mrow 
><mn>2</mn></mrow><mrow 
><mi 
>s</mi></mrow></msup 
></mrow></mfrac></math>
     resolution, where <!--l. 564--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><mi 
>X</mi> <mo 
class="MathClass-bin">&#x00D7;</mo> <mi 
>Y</mi> </math>
     is the resolution of <!--l. 565--><math 
 xmlns="http://www.w3.org/1998/Math/MathML"  
display="inline" ><msub><mrow 
><mi 
>V</mi> </mrow><mrow 
><mi 
>i</mi></mrow></msub 
></math>.</li></ul>
   <h3 class="likesectionHead"><a 
 id="x1-3100014.3"></a>References</h3>
<!--l. 1--><p class="noindent" >
   </p><div class="thebibliography">
   <p class="bibitem" ><span class="biblabel">
 &#x005B;1&#x005D;<span class="bibsp">&#x00A0;&#x00A0;&#x00A0;</span></span><a 
 id="Xrao1996techniques"></a>Kamisetty&#x00A0;Ramamohan Rao and Jae&#x00A0;Jeong Hwang.   <a 
href="https://scholar.google.es/scholar?hl=es&as_sdt=0%2C5&q=Techniques+and+Standards+for+Image%2C+Video+and+Audio+Coding&btnG=" ><span 
class="ecti-1000">Techniques and</span>
   <span 
class="ecti-1000">standards for image, video, and audio coding</span></a>, volume&#x00A0;70. Prentice Hall New
   Jersey, 1996.
</p>
   </div>
<a 
 id="Q1-1-32"></a>
    
</body></html> 

                                                                  


